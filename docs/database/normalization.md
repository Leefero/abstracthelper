
# Схема нормализации до 3NF
## Нормализация до 1NF (Первая нормальная форма)
- Решено: Все атрибуты атомарны, устранены повторяющиеся группы

- Изменения:

  - Меры поддержки — поля "контакты", "список документов" преобразованы из текста с разделителями в отдельные таблицы

  - Теги мер — вынесены в отдельную таблицу measure_tags для гибкой категоризации

  - Атрибуты мер — динамические атрибуты вынесены в таблицу measure_attributes

  - Метаданные запросов — сложные данные вынесены в JSONB поле metadata

  - Детали совпадения — информация о поисковом совпадении вынесена в JSONB поле match_details

## Нормализация до 2NF (Вторая нормальная форма)
- Решено: Устранены частичные зависимости от первичного ключа

- Изменения:

  -  Данные пользователей — вынесены в отдельную таблицу users с Telegram ID как первичный ключ

  - Данные категорий — вынесены в таблицу categories с независимыми атрибутами

  - Результаты поиска — связь "многие-ко-многим" между запросами и мерами вынесена в таблицу search_results

  - Сообщения диалогов — вынесены в таблицу conversation_messages с зависимостью от ID диалога

## Нормализация до 3NF (Третья нормальная форма)
- Решено: Устранены транзитивные зависимости (зависимости от неключевых атрибутов)

- Изменения:

  - Категории — удалена возможная зависимость slug → name, оба зависят только от id

  - Меры поддержки — атрибуты типа "размер поддержки", "сроки" зависят только от id меры

  - Диалоги — current_state зависит только от id диалога, не от других атрибутов

  - Обратная связь — все атрибуты зависят только от id отзыва

- Результат: **Каждая таблица содержит только атрибуты, зависящие от ее первичного ключа (PK)**

# [ER-диаграмма](https://github.com/Leefero/abstracthelper/blob/main/docs/database/erd_botmeuser.png)
